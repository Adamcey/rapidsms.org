{% extends "base.html" %}
{% load widget_tweaks %}

{% block title %}
{% if object %}Edit {{ object.name }}{% else %}Add A New Package{% endif %}
{% endblock title %}
{% block body_id %}package-form{% endblock body_id %}

{% block content %}
<div class="page-header">
    {% if object %}
    <h1>Edit {{ object.name }}</h1>
    {% else %}
    <h1>Add a New Package</h1>
    {% endif %}
</div>

<form class="form-horizontal" method="post" action=".">
    {% csrf_token %}
    {% for field in form %}
    <div class="control-group{% if field.errors %} error{% endif %}">
        <label class="control-label" for="{{ field.id_for_label }}">
        {{ field.label }}
        </label>
        <div class="controls" id="controls_{{ field.name }}">
            {% if field.name == 'has_docs' or field.name == 'has_tests' %}
            <div class="switch" data-on-label='Yes' data-off-label="No">
                {{ field }}
            </div>
            {% elif field.name == "pkg_type" %}
            {% for value, label in field.field.choices %}
            <label class="radio{% if field.value == value %} checked{% endif %}">
                <input name="{{ field.html_name }}" type="radio"
                        value="{{ value }}" data-toggle="radio"
                        {% if field.value == value %} checked="checked" {% endif %} />
                        {{ label }}
            </label>
            {% endfor %}
            {% else %}
            {{ field|add_class:"span6" }}
            {% endif %}
            {% if field.errors %}
            <span class="help-block">{{ field.errors.as_text|safe }}</span>
            {% endif %}
        </div>
    </div>
    {% endfor %}
    <div class="control-group">
        <div class="controls">
            <input class="btn btn-inverse" type="submit" value="Submit" />
        </div>
    </div>
</form>
{% endblock content %}
